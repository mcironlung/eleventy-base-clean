---
layout: base.njk
pagination:
  data: collections.tags
  alias: tagPage
  size: 1
  reverse: true
permalink: "{{ tagPage.url }}/index.html"
---

<section class="hero is-medium is-link has-background-primary" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('{{ image | url }}') center / cover no-repeat;">
  <div class="hero-body has-text-centered">
    <div class="container">
      <p class="subtitle is-1 has-text-weight-bold">Topic: {{ tagPage.name }}</p>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">

    {% if collections.tags %}
      <div class="block is-flex is-align-items-center" style="gap: 1rem;">
        <p class="heading mb-0">All Topics:</p> 
        <div class="tags">
          {% for tag in collections.tags %}
            <a href="{{ tag.url }}" class="tag is-primary is-medium has-text-white">{{ tag.name }}</a>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <div class="block mt-5">
      <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
      <script src="/pagefind/pagefind-ui.js"></script>
      <div id="search"></div>
      <script>
        window.addEventListener('DOMContentLoaded', () => {
          new PagefindUI({ element: "#search", showSubResults: true });
        });
      </script>
    </div>

    <div class="py-6">
      <h2 class="title is-2">Posts tagged "{{ tagPage.name }}"</h2>
      <div class="columns is-multiline">
        {% if tagPage.posts and tagPage.posts.length %}
          {% for post in tagPage.posts %}
            <div class="column is-12-mobile is-6-tablet is-4-desktop">
              <a href="{{ post.url | url }}">
                <div class="card post-card-hover is-clipped">
                  <div class="card-image">
                    {% if post.data.image %}
                      <figure class="image is-16by9">
                        <img src="{{ post.data.image | url }}" alt="{{ post.data.title }}" style="object-fit: cover;">
                      </figure>
                    {% else %}
                      <div class="has-background-primary is-16by9" style="display: block; position: relative; aspect-ratio: 16 / 9;">
                        <div class="is-overlay is-flex is-align-items-center is-justify-content-center">
                          <span class="has-text-white is-size-1">
                            <i class="fas fa-file-alt"></i>
                          </span>
                        </div>
                      </div>
                    {% endif %}
                  </div>
                  <div class="card-content">
                    <p class="title is-5">{{ post.data.title }}</p>
                  </div>
                </div>
              </a>
            </div>
          {% endfor %}
        {% else %}
          <div class="column is-12">
            <p class="notification is-warning is-light">No posts found in this category.</p>
          </div>
        {% endif %}
      </div>
    </div>

  </div>
</section>